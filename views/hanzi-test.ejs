<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>汉字测试</title>
    <style>
        body { padding: 20px; }
        #test1, #test2, #test3 {
            border: 1px solid #ccc;
            margin: 20px;
            display: inline-block;
        }
    </style>
</head>
<body>
    <h1>Hanzi Writer 测试</h1>
    
    <h3>测试字符: 道</h3>
    <div id="test1"></div>
    <button onclick="animate1()">播放动画</button>
    
    <h3>测试字符: 德</h3>
    <div id="test2"></div>
    <button onclick="animate2()">播放动画</button>
    
    <h3>测试字符: 经</h3>
    <div id="test3"></div>
    <button onclick="animate3()">播放动画</button>
    
    <div id="log" style="margin-top: 20px; padding: 10px; background: #f0f0f0;"></div>

    <script src="<%= CDN_HANZI %>"></script>
    <script>
        const log = document.getElementById('log');
        
        function addLog(message) {
            log.innerHTML += '<div>' + new Date().toLocaleTimeString() + ': ' + message + '</div>';
        }
        
        let writer1, writer2, writer3;
        
        // 测试是否加载成功
        addLog('HanziWriter available: ' + (typeof HanziWriter !== 'undefined'));
        
        try {
            writer1 = HanziWriter.create('test1', '道', {
                width: 200,
                height: 200,
                padding: 10,
                strokeColor: '#4CAF50',
                showOutline: true,
                showCharacter: false,
                onLoadCharDataSuccess: function() {
                    addLog('道 - 字符数据加载成功');
                },
                onLoadCharDataError: function(err) {
                    addLog('道 - 字符数据加载失败: ' + err);
                }
            });
            
            writer2 = HanziWriter.create('test2', '德', {
                width: 200,
                height: 200,
                padding: 10,
                strokeColor: '#FF9800',
                showOutline: true,
                showCharacter: false,
                onLoadCharDataSuccess: function() {
                    addLog('德 - 字符数据加载成功');
                },
                onLoadCharDataError: function(err) {
                    addLog('德 - 字符数据加载失败: ' + err);
                }
            });
            
            writer3 = HanziWriter.create('test3', '经', {
                width: 200,
                height: 200,
                padding: 10,
                strokeColor: '#2196F3',
                showOutline: true,
                showCharacter: false,
                onLoadCharDataSuccess: function() {
                    addLog('经 - 字符数据加载成功');
                },
                onLoadCharDataError: function(err) {
                    addLog('经 - 字符数据加载失败: ' + err);
                }
            });
            
        } catch (error) {
            addLog('创建writer时出错: ' + error.message);
        }
        
        function animate1() {
            if (writer1) {
                writer1.animateCharacter();
                addLog('播放道的动画');
            }
        }
        
        function animate2() {
            if (writer2) {
                writer2.animateCharacter();
                addLog('播放德的动画');
            }
        }
        
        function animate3() {
            if (writer3) {
                writer3.animateCharacter();
                addLog('播放经的动画');
            }
        }
    </script>
</body>
</html>